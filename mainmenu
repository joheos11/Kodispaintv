<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<menus>
  
<menus_info>
<title>[COLOR red]Kodi[/COLOR][COLOR yellow]Spain[/COLOR][COLOR red]Tv[/COLOR]</title>
<genre>ALL</genre>
<description>Contenido variado en español</description>
<thumbnail>https://i.postimg.cc/PxbwZKFV/uDzZNhh.png</thumbnail>
<fanart>https://i.postimg.cc/HLwxPn4V/uHz4BP7.jpg</fanart>
<credits>https://t.me/kodispain (joheos11)</credits>
</menus_info>

<menu>
<title>[COLOR red]Kodi[/COLOR][COLOR yellow]Spain[/COLOR][COLOR red]Tv[/COLOR]         [COLOR yellow]por[/COLOR] [COLOR red]@[/COLOR][COLOR yellow]joheos11[/COLOR]</title>
<utube>Sgnp9ZaXHFw</utube>
<thumbnail>https://i.postimg.cc/PxbwZKFV/uDzZNhh.png</thumbnail>
<fanart>https://i.postimg.cc/HLwxPn4V/uHz4BP7.jpg</fanart>
</menu>
  
<menu>
<title>[B][COLOR white]CANALES DE ESPAÑA[/COLOR]  [COLOR red]VAVOO[/COLOR][/B]</title>
<link>$doregex[channel]</link>
<regex>
<name>channel</name>
<listrepeat><![CDATA[
  <title>[B][COLOR white][channel.param1][/COLOR][/B]</title>
  <link>[channel.param3]?n=1&amp;b=5&amp;vavoo_auth=$doregex[key]|user-Agent:VAVOO/2.6</link>
  <thumbnail>$doregex[logo]</thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m):
  import re
  channels = re.findall('name="(.*?)...."\sgroup-title="Spain"(.*)\n(http.*ts)', page_data)
  return sorted(channels, key=lambda match: match[0])
]]></expres>
<page>https://www2.vavoo.to/live2/index</page>
</regex>
<regex>
<name>logo</name>
<expres><![CDATA[(http.*png)]]></expres>
<page>[channel.param2]</page>
</regex>
<regex>
<name>key</name>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m):
  import requests
  vec = {"vec": "9frjpxPjxSNilxJPCJ0XGYs6scej3dW/h/VWlnKUiLSG8IP7mfyDU7NirOlld+VtCKGj03XjetfliDMhIev7wcARo+YTU8KPFuVQP9E2DVXzY2BFo1NhE6qEmPfNDnm74eyl/7iFJ0EETm6XbYyz8IKBkAqPN/Spp3PZ2ulKg3QBSDxcVN4R5zRn7OsgLJ2CNTuWkd/h451lDCp+TtTuvnAEhcQckdsydFhTZCK5IiWrrTIC/d4qDXEd+GtOP4hPdoIuCaNzYfX3lLCwFENC6RZoTBYLrcKVVgbqyQZ7DnLqfLqvf3z0FVUWx9H21liGFpByzdnoxyFkue3NzrFtkRL37xkx9ITucepSYKzUVEfyBh+/3mtzKY26VIRkJFkpf8KVcCRNrTRQn47Wuq4gC7sSwT7eHCAydKSACcUMMdpPSvbvfOmIqeBNA83osX8FPFYUMZsjvYNEE3arbFiGsQlggBKgg1V3oN+5ni3Vjc5InHg/xv476LHDFnNdAJx448ph3DoAiJjr2g4ZTNynfSxdzA68qSuJY8UjyzgDjG0RIMv2h7DlQNjkAXv4k1BrPpfOiOqH67yIarNmkPIwrIV+W9TTV/yRyE1LEgOr4DK8uW2AUtHOPA2gn6P5sgFyi68w55MZBPepddfYTQ+E1N6R/hWnMYPt/i0xSUeMPekX47iucfpFBEv9Uh9zdGiEB+0P3LVMP+q+pbBU4o1NkKyY1V8wH1Wilr0a+q87kEnQ1LWYMMBhaP9yFseGSbYwdeLsX9uR1uPaN+u4woO2g8sw9Y5ze5XMgOVpFCZaut02I5k0U4WPyN5adQjG8sAzxsI3KsV04DEVymj224iqg2Lzz53Xz9yEy+7/85ILQpJ6llCyqpHLFyHq/kJxYPhDUF755WaHJEaFRPxUqbparNX+mCE9Xzy7Q/KTgAPiRS41FHXXv+7XSPp4cy9jli0BVnYf13Xsp28OGs/D8Nl3NgEn3/eUcMN80JRdsOrV62fnBVMBNf36+LbISdvsFAFr0xyuPGmlIETcFyxJkrGZnhHAxwzsvZ+Uwf8lffBfZFPRrNv+tgeeLpatVcHLHZGeTgWWml6tIHwWUqv2TVJeMkAEL5PPS4Gtbscau5HM+FEjtGS+KClfX1CNKvgYJl7mLDEf5ZYQv5kHaoQ6RcPaR6vUNn02zpq5/X3EPIgUKF0r/0ctmoT84B2J1BKfCbctdFY9br7JSJ6DvUxyde68jB+Il6qNcQwTFj4cNErk4x719Y42NoAnnQYC2/qfL/gAhJl8TKMvBt3Bno+va8ve8E0z8yEuMLUqe8OXLce6nCa+L5LYK1aBdb60BYbMeWk1qmG6Nk9OnYLhzDyrd9iHDd7X95OM6X5wiMVZRn5ebw4askTTc50xmrg4eic2U1w1JpSEjdH/u/hXrWKSMWAxaj34uQnMuWxPZEXoVxzGyuUbroXRfkhzpqmqqqOcypjsWPdq5BOUGL/Riwjm6yMI0x9kbO8+VoQ6RYfjAbxNriZ1cQ+AW1fqEgnRWXmjt4Z1M0ygUBi8w71bDML1YG6UHeC2cJ2CCCxSrfycKQhpSdI1QIuwd2eyIpd4LgwrMiY3xNWreAF+qobNxvE7ypKTISNrz0iYIhU0aKNlcGwYd0FXIRfKVBzSBe4MRK2pGLDNO6ytoHxvJweZ8h1XG8RWc4aB5gTnB7Tjiqym4b64lRdj1DPHJnzD4aqRixpXhzYzWVDN2kONCR5i2quYbnVFN4sSfLiKeOwKX4JdmzpYixNZXjLkG14seS6KR0Wl8Itp5IMIWFpnNokjRH76RYRZAcx0jP0V5/GfNNTi5QsEU98en0SiXHQGXnROiHpRUDXTl8FmJORjwXc0AjrEMuQ2FDJDmAIlKUSLhjbIiKw3iaqp5TVyXuz0ZMYBhnqhcwqULqtFSuIKpaW8FgF8QJfP2frADf4kKZG1bQ99MrRrb2A="}
  api = 'https://www.vavoo.tv/api/box/ping2'
  req = requests.post(api, data=vec).json()
  signed = req['response'].get('signed')
  return signed
]]></expres>
<page></page>
</regex>
<thumbnail>https://i.postimg.cc/dQBMtrwy/Canales-de-Espa-a.png</thumbnail>
<fanart>https://i.postimg.cc/W4NGHypV/Canales-de-Espa-a.jpg</fanart>
</menu>

<menu>
<title>[B][COLOR white]CANALES INTERNACIONALES[/COLOR][COLOR red]  VAVOO[/COLOR][/B]</title>
<link>$doregex[makelist]</link>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
  <title>[B][COLOR white][makelist.param1][/COLOR][/B]</title>
  <link>$doregex[channel]</link>
  <thumbnail>https://i.postimg.cc/qvd7Jxvw/vavootv.png</thumbnail>
  <fanart>https://i.postimg.cc/dDPpXs9V/UyNxG3U.jpg</fanart>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
import re
def GetLSProData(page_data,Cookie_Jar,m):
  match = re.compile('group-title="([^"]+)"').findall(page_data)
  seccion_list = []
  for x in match:
    if x not in seccion_list:
      seccion_list.append(x)
  return sorted(seccion_list)
]]></expres>
<page>https://www2.vavoo.to/live2/index</page>
</regex>
<regex>
<name>channel</name>
<listrepeat><![CDATA[
  <title>[B][COLOR white][channel.param1][/COLOR][/B]</title>
  <link>[channel.param3]?n=1&amp;b=5&amp;vavoo_auth=$doregex[key]|user-Agent:VAVOO/2.6</link>
  <thumbnail>$doregex[logo]</thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m):
  import re
  channels = re.findall('name="(.*?)...."\sgroup-title="[makelist.param1]"(.*)\n(http.*ts)', page_data)
  return sorted(channels, key=lambda match: match[0])
]]></expres>
<page>https://www2.vavoo.to/live2/index</page>
</regex>
<regex>
<name>logo</name>
<expres><![CDATA[(http.*png)]]></expres>
<page>[channel.param2]</page>
</regex>
<regex>
<name>key</name>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m):
  import requests
  vec = {"vec": "9frjpxPjxSNilxJPCJ0XGYs6scej3dW/h/VWlnKUiLSG8IP7mfyDU7NirOlld+VtCKGj03XjetfliDMhIev7wcARo+YTU8KPFuVQP9E2DVXzY2BFo1NhE6qEmPfNDnm74eyl/7iFJ0EETm6XbYyz8IKBkAqPN/Spp3PZ2ulKg3QBSDxcVN4R5zRn7OsgLJ2CNTuWkd/h451lDCp+TtTuvnAEhcQckdsydFhTZCK5IiWrrTIC/d4qDXEd+GtOP4hPdoIuCaNzYfX3lLCwFENC6RZoTBYLrcKVVgbqyQZ7DnLqfLqvf3z0FVUWx9H21liGFpByzdnoxyFkue3NzrFtkRL37xkx9ITucepSYKzUVEfyBh+/3mtzKY26VIRkJFkpf8KVcCRNrTRQn47Wuq4gC7sSwT7eHCAydKSACcUMMdpPSvbvfOmIqeBNA83osX8FPFYUMZsjvYNEE3arbFiGsQlggBKgg1V3oN+5ni3Vjc5InHg/xv476LHDFnNdAJx448ph3DoAiJjr2g4ZTNynfSxdzA68qSuJY8UjyzgDjG0RIMv2h7DlQNjkAXv4k1BrPpfOiOqH67yIarNmkPIwrIV+W9TTV/yRyE1LEgOr4DK8uW2AUtHOPA2gn6P5sgFyi68w55MZBPepddfYTQ+E1N6R/hWnMYPt/i0xSUeMPekX47iucfpFBEv9Uh9zdGiEB+0P3LVMP+q+pbBU4o1NkKyY1V8wH1Wilr0a+q87kEnQ1LWYMMBhaP9yFseGSbYwdeLsX9uR1uPaN+u4woO2g8sw9Y5ze5XMgOVpFCZaut02I5k0U4WPyN5adQjG8sAzxsI3KsV04DEVymj224iqg2Lzz53Xz9yEy+7/85ILQpJ6llCyqpHLFyHq/kJxYPhDUF755WaHJEaFRPxUqbparNX+mCE9Xzy7Q/KTgAPiRS41FHXXv+7XSPp4cy9jli0BVnYf13Xsp28OGs/D8Nl3NgEn3/eUcMN80JRdsOrV62fnBVMBNf36+LbISdvsFAFr0xyuPGmlIETcFyxJkrGZnhHAxwzsvZ+Uwf8lffBfZFPRrNv+tgeeLpatVcHLHZGeTgWWml6tIHwWUqv2TVJeMkAEL5PPS4Gtbscau5HM+FEjtGS+KClfX1CNKvgYJl7mLDEf5ZYQv5kHaoQ6RcPaR6vUNn02zpq5/X3EPIgUKF0r/0ctmoT84B2J1BKfCbctdFY9br7JSJ6DvUxyde68jB+Il6qNcQwTFj4cNErk4x719Y42NoAnnQYC2/qfL/gAhJl8TKMvBt3Bno+va8ve8E0z8yEuMLUqe8OXLce6nCa+L5LYK1aBdb60BYbMeWk1qmG6Nk9OnYLhzDyrd9iHDd7X95OM6X5wiMVZRn5ebw4askTTc50xmrg4eic2U1w1JpSEjdH/u/hXrWKSMWAxaj34uQnMuWxPZEXoVxzGyuUbroXRfkhzpqmqqqOcypjsWPdq5BOUGL/Riwjm6yMI0x9kbO8+VoQ6RYfjAbxNriZ1cQ+AW1fqEgnRWXmjt4Z1M0ygUBi8w71bDML1YG6UHeC2cJ2CCCxSrfycKQhpSdI1QIuwd2eyIpd4LgwrMiY3xNWreAF+qobNxvE7ypKTISNrz0iYIhU0aKNlcGwYd0FXIRfKVBzSBe4MRK2pGLDNO6ytoHxvJweZ8h1XG8RWc4aB5gTnB7Tjiqym4b64lRdj1DPHJnzD4aqRixpXhzYzWVDN2kONCR5i2quYbnVFN4sSfLiKeOwKX4JdmzpYixNZXjLkG14seS6KR0Wl8Itp5IMIWFpnNokjRH76RYRZAcx0jP0V5/GfNNTi5QsEU98en0SiXHQGXnROiHpRUDXTl8FmJORjwXc0AjrEMuQ2FDJDmAIlKUSLhjbIiKw3iaqp5TVyXuz0ZMYBhnqhcwqULqtFSuIKpaW8FgF8QJfP2frADf4kKZG1bQ99MrRrb2A="}
  api = 'https://www.vavoo.tv/api/box/ping2'
  req = requests.post(api, data=vec).json()
  signed = req['response'].get('signed')
  return signed
]]></expres>
<page></page>
</regex>
<thumbnail>https://i.postimg.cc/qvd7Jxvw/vavootv.png</thumbnail>
<fanart>https://i.postimg.cc/dDPpXs9V/UyNxG3U.jpg</fanart>
</menu>

<menu>  
<title>[B][COLOR white]DEPORTES[/COLOR][/B]</title>
<link>nolink</link>
<thumbnail>https://i.postimg.cc/cJ0ZCmwL/Sozt4fH.jpg</thumbnail>
<fanart>https://i.imgur.com/3zk1XTz.jpg</fanart> 
<externallink>https://bit.ly/DEPORTES_MOD</externallink>
</menu>

<menu>
<title>[B][COLOR white]LISTAS IPTV[/COLOR][/B]</title>
<link>nolink</link>
<thumbnail>https://i.postimg.cc/sfqr7y78/bMJG1bN.png</thumbnail>
<fanart>https://i.postimg.cc/dDPpXs9V/UyNxG3U.jpg</fanart>
<externallink>https://bit.ly/LISTAS_IPTV_NEW</externallink>
</menu>

<menu>
<title>[B][COLOR white]PHOTOCALL TV[/COLOR][/B]</title>
<thumbnail>https://i.postimg.cc/Dwg1DNYK/photocall.png</thumbnail>
<fanart>https://i.postimg.cc/V5yMC6q1/snWFe76.jpg</fanart>
<link>nolink</link>
<externallink>https://bit.ly/photocalltv</externallink>
</menu>

<menu>
<title>[B][COLOR white]PLUTO TV[/COLOR][/B]</title>
<link>nolink</link>
<thumbnail>https://i.postimg.cc/L4x0N9qR/plutotv.png</thumbnail>
<fanart>https://i.postimg.cc/3RTJSjcy/plutotv.jpg</fanart>
<externallink>https://bit.ly/plutotvks</externallink>
</menu>
  
<menu>
<title>[B][COLOR white]SAMSUNG TV PLUS[/COLOR][/B]</title>
<link>nolink</link>
<thumbnail>https://i.postimg.cc/DZphy31z/samsungtvplus.png</thumbnail>
<fanart>https://i.postimg.cc/sXCzM4Nk/samsungtvplus.jpg</fanart>
<externallink>https://bit.ly/SamsungTVPlusKS</externallink>
</menu>
  
<menu>
<title>[B][COLOR white]TDTCHANNELS[/COLOR][/B]</title>
<link>$doregex[groupname]</link>
<regex>
<name>select</name>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m):
  import xbmcgui
  dialog = xbmcgui.Dialog()  
  opt = dialog.select('Elige una lista:', ['Televisión', 'Radio'])  
  list = ['https://www.tdtchannels.com/lists/tv.m3u', 'https://www.tdtchannels.com/lists/radio.m3u']
  return list[opt] 
]]></expres>
<page></page>
</regex>
<regex>
<name>groupname</name>
<listrepeat><![CDATA[
  <title>[groupname.param1]</title>
  <link>$doregex[tvchannels]</link>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
import re,requests
def GetLSProData(page_data,Cookie_Jar,m):
  list = requests.get('$doregex[select]').text
  match = re.compile('group-title="([^"]+)"').findall(list)
  seccion_list = []
  for x in match:
    if x not in seccion_list:
      seccion_list.append(x)
  return seccion_list
]]></expres>
<page></page>
</regex>
<regex>
<name>tvchannels</name>
<listrepeat><![CDATA[
  <title>[tvchannels.param3]</title>
  <link>[tvchannels.param4]</link>
  <thumbnail>[tvchannels.param1]</thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
import re, requests
def GetLSProData(page_data,Cookie_Jar,m):
  list = requests.get('https://www.tdtchannels.com/lists/tvradio.m3u').text
  data = re.findall('EXTINF.*tvg-logo="([^"]+)".group-title="[groupname.param1]".tvg-name="([^"]+)",(.*)\n(.*)',list)
  return sorted(data, key=lambda match: match[1])
]]></expres>
<page></page>
</regex>
<thumbnail>https://i.postimg.cc/xd9nkC7D/46137909-1.jpg</thumbnail>
<fanart>https://i.postimg.cc/Jnrbj7xC/Spain-flag-1.jpg</fanart>
</menu>
  
<menu>
<title>[B][COLOR white]RADIO[/COLOR][/B]</title>
<link>nolink</link>
<thumbnail>https://i.postimg.cc/L5p4mFcn/Radio.png</thumbnail>
<fanart>https://s15.postimg.cc/jkastdbhn/fondoradios.jpg</fanart>
<externallink>https://bit.ly/RADIO_MOD</externallink>
</menu>
  
<menu>
<title>[B][COLOR white]¿Problemas con[/COLOR][COLOR red] Kodi[/COLOR][COLOR yellow]Spain[/COLOR][COLOR red]Tv[/COLOR][COLOR white] en K18 Leia?[/COLOR][COLOR lime]   Pincha aquí[/COLOR][/B]</title>
<link>$doregex[get-decode]</link>
<regex> 
<name>get-decode</name> 
<expres><![CDATA[#$pyFunction
import re
import HTMLParser
import sys
reload(sys)
sys.setdefaultencoding("utf-8")
def GetLSProData(page_data,Cookie_Jar,m):
 parser = HTMLParser.HTMLParser()
 return re.sub("(&.+?;)", lambda m: parser.unescape(m.group()), page_data)
]]></expres>
<page>https://bit.ly/mainmenuks</page>
</regex>
<thumbnail>https://i.postimg.cc/PxbwZKFV/uDzZNhh.png</thumbnail>
<fanart>https://i.postimg.cc/HLwxPn4V/uHz4BP7.jpg</fanart>
</menu>

</menus>
